(function(e){function t(t){for(var r,a,s=t[0],c=t[1],l=t[2],u=0,d=[];u<s.length;u++)a=s[u],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);p&&p(t);while(d.length)d.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(r=!1)}r&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},i={app:0},o=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var p=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"060f":function(e,t,n){e.exports=n.p+"img/red_elephant.05606294.png"},"06b5":function(e,t,n){e.exports=n.p+"img/blue_pawn.117170a0.png"},"0dc2":function(e,t,n){e.exports=n.p+"img/unavailable_possible_takedown_med.8136aad4.png"},1388:function(e,t,n){e.exports=n.p+"img/hover_available_possible_takedown_large.23e6f738.png"},2199:function(e,t,n){e.exports=n.p+"img/blue_rook.08924ce1.png"},3188:function(e,t,n){"use strict";var r=n("81c4"),i=n.n(r);i.a},"35f6":function(e,t,n){e.exports=n.p+"img/hover_unavailable_possible_takedown_large.96bde8d5.png"},"39b0":function(e,t,n){e.exports=n.p+"img/unavailable_possible_move.a52cb530.png"},"3eb6":function(e,t,n){e.exports=n.p+"img/korean_chess.71479caa.png"},4167:function(e,t,n){"use strict";var r=n("b8f3"),i=n.n(r);i.a},"43f6":function(e,t,n){e.exports=n.p+"img/hover_unavailable_possible_takedown_small.7f880251.png"},"4b0d":function(e,t,n){e.exports=n.p+"img/available_possible_takedown_small.aa4ac180.png"},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),i=(n("fb6a"),n("2f62")),o=n("a78e"),a=n.n(o),s={state:{joining:!1,rooms:[]},actions:{quickStart:function(e){var t=e.dispatch,n=e.commit;n("setJoining",!0),t("sendPacket",{type:"quick_join"})},joinRoom:function(e,t){var n=e.dispatch,r=e.commit;r("setJoining",!0),n("sendPacket",{type:"join_room",id:t})},createRoom:function(e){var t=e.dispatch,n=e.commit;n("setJoining",!0),t("sendPacket",{type:"create_room"})}},mutations:{setJoining:function(e,t){e.joining=t},resetHomeScreen:function(e){e.joining=!1},setRooms:function(e,t){e.rooms=t}}},c={state:{private_room:!1,room_id:!1},actions:{leaveRoom:function(e){var t=e.dispatch;t("sendPacket",{type:"leave_room"})}},mutations:{setWaitScreen:function(e,t){var n=t.private_room,r=t.room_id;e.private_room=n,e.room_id=r},resetWaitScreen:function(e){e.private_room=!1,e.room_id=!1}}},l={player_color:!1,spectator_color:!1,preparation:!0,checked_color:!1,checked_moves:!1,winner:!1,board:{board_width:0,board_height:0,square_thickness:0,left_boarder_thickness:0,top_boarder_thickness:0},pieces:[],selecting_piece:!1,selecting_position:!1,possible_cells:{},turn:!1,clicked_restart:!1,clicked_ready:!1,wait_left_swap:!1,wait_right_swap:!1},p=function(e,t){var n=e.commit,r=t.piece,i=t.position;setTimeout((function(){return n("selectPiece",{piece:r,position:i})}),100)},u=function(e){var t=e.commit;setTimeout((function(){return t("unselectPiece")}),50)},d=function(e,t){var n=e.state,r=e.dispatch;r("sendPacket",{type:"move_piece",from:n.selecting_position,to:t})},f=function(e){var t=e.dispatch,n=e.commit;n("clickRestart"),t("sendPacket",{type:"restart_ready"})},_=function(e,t){var n=e.dispatch,r=e.commit;r("setSwap",{side:t,wait:!0}),n("sendPacket",{type:"swap_piece",side:t})},h=function(e){var t=e.dispatch,n=e.commit;n("setReady",!0),t("sendPacket",{type:"prepare_ready"})},m={selectPiece:p,unselectPiece:u,movePiece:d,clickRestart:f,clickSwap:_,clickReady:h},g=(n("07ac"),n("99af"),n("4de4"),n("caad"),n("d81d"),n("b64b"),n("d3b7"),n("ac1f"),n("25f0"),n("1276"),n("3835")),b=function(e,t,n,r){var i=[],o=t[0],a=t[1];switch(e){case"king":case"guard":i=v(o,a);break;case"horse":i=k(o,a,n),i=Object.values(i);break;case"elephant":i=w(o,a,n);break;case"rook":i=y(o,a,n);break;case"cannon":i=S(o,a,n);break;case"pawn":i=x(o,a);break}i=i.filter((function(e){return 2==e.length&&0<=parseInt(e[0])&&parseInt(e[0])<=9&&0<=parseInt(e[1])&&parseInt(e[1])<=8}));var s={};return i.map((function(e){var t=e in n,i=!!t&&n[e].color!=r,o=i?n[e].piece:"";t&&!i||(s[e]={piece:o,on_enemy:i})})),s},v=function(e,t){var n=[O(e,-1)+t,O(e,1)+t,e+O(t,-1),e+O(t,1)];return["73","75","84","93","95"].includes(e+t)&&(n.push(O(e,-1)+O(t,-1)),n.push(O(e,-1)+O(t,1)),n.push(O(e,1)+O(t,-1)),n.push(O(e,1)+O(t,1))),n=n.filter((function(e){var t=parseInt(e[0]),n=parseInt(e[1]);return 7<=t&&t<=9&&3<=n&&n<=5&&2===e.length})),n},k=function(e,t,n){for(var r={front:O(e,-1)+t,back:O(e,1)+t,left:e+O(t,-1),right:e+O(t,1)},i={},o=0,a=Object.keys(r);o<a.length;o++){var s=a[o],c=r[s],l=void 0!=n[c];if(!l&&2==c.length){var p=Object(g["a"])(c,2),u=p[0],d=p[1],f=void 0,_=void 0;switch(s){case"front":case"back":f=O(u,"front"==s?-1:1),i[s+"_left"]=f+O(d,-1),i[s+"_right"]=f+O(d,1);break;case"left":case"right":_=O(d,"left"==s?-1:1),i[s+"_front"]=O(u,-1)+_,i[s+"_back"]=O(u,1)+_;break}}}return i},w=function(e,t,n){for(var r=k(e,t,n),i=[],o=0,a=Object.keys(r);o<a.length;o++){var s=a[o],c=r[s],l=void 0!=n[c];l||2!=c.length||function(){var e=s.split("_"),t=parseInt(c[0]),n=parseInt(c[1]);e.map((function(e){switch(e){case"front":t--;break;case"back":t++;break;case"left":n--;break;case"right":n++;break}})),i.push(t.toString()+n.toString())}()}return i},y=function(e,t,n){var r=0,i=9,o=0,a=8;Object.keys(n).map((function(n){if(n!=e+t){var s=parseInt(n[0]),c=parseInt(n[1]);s==parseInt(e)?c<t?o=Math.max(o,c):a=Math.min(a,c):c==parseInt(t)&&(s<e?r=Math.max(r,s):i=Math.min(i,s))}}));for(var s=[],c=r;c<=i;c++)c!=parseInt(e)&&s.push(c.toString()+t);for(var l=o;l<=a;l++)l!=parseInt(t)&&s.push(e+l.toString());var p={},u=function(n){switch(n){case"front_left":p[n]=O(e,-1)+O(t,-1);break;case"front_right":p[n]=O(e,-1)+O(t,1);break;case"back_left":p[n]=O(e,1)+O(t,-1);break;case"back_right":p[n]=O(e,1)+O(t,1);break}};switch(e+t){case"03":u("back_right");break;case"14":u("front_left"),u("front_right"),u("back_left"),u("back_right");break;case"05":u("back_left");break;case"23":u("front_right");break;case"25":u("front_left");break;case"73":u("back_right");break;case"84":u("front_left"),u("front_right"),u("back_left"),u("back_right");break;case"75":u("back_left");break;case"93":u("front_right");break;case"95":u("front_left");break}for(var d=function(){var e=_[f],t=p[e],r=parseInt(t[0]),i=parseInt(t[1]),o=void 0!=n[t],a=1==r&&4==i||8==r&&4==i;if(s.push(t),!o&&a){var c=e.split("_");c.map((function(e){switch(e){case"front":r--;break;case"back":r++;break;case"left":i--;break;case"right":i++;break}})),s.push(r.toString()+i.toString())}},f=0,_=Object.keys(p);f<_.length;f++)d();return s},S=function(e,t,n){var r=[0,0],i=[9,9],o=[0,0],a=[8,8];Object.keys(n).map((function(n){if(n!=e+t){var s=parseInt(n[0]),c=parseInt(n[1]);s==parseInt(e)?c<t?c>o[1]?(o[0]=o[1],o[1]=c):c>o[0]&&(o[0]=c):c<a[0]?(a[1]=a[0],a[0]=c):c<a[1]&&(a[1]=c):c==parseInt(t)&&(s<e?s>r[1]?(r[0]=r[1],r[1]=s):s>r[0]&&(r[0]=s):s<i[0]?(i[1]=i[0],i[0]=s):s<i[1]&&(i[1]=s))}}));var s=[],c=r[1].toString()+t,l=i[0].toString()+t,p=e+o[1].toString(),u=e+a[0].toString(),d=c in n&&"cannon"===n[c].piece,f=l in n&&"cannon"===n[l].piece,_=p in n&&"cannon"===n[p].piece,h=u in n&&"cannon"===n[u].piece;if(!d)for(var m=r[0];m<r[1];m++)s.push(m.toString()+t);if(!f)for(var g=i[0]+1;g<=i[1];g++)s.push(g.toString()+t);if(!_)for(var b=o[0];b<o[1];b++)s.push(e+b.toString());if(!h)for(var v=a[0]+1;v<=a[1];v++)s.push(e+v.toString());var k=void 0!=n["14"],w=!!k&&"cannon"==n["14"].piece,y=void 0!=n["84"],S=!!y&&"cannon"==n["84"].piece;if(k&&!w)switch(e+t){case"03":s.push("25");break;case"05":s.push("23");break;case"23":s.push("05");break;case"25":s.push("03");break}if(y&&!S)switch(e+t){case"73":s.push("95");break;case"75":s.push("93");break;case"93":s.push("75");break;case"95":s.push("73");break}return s},x=function(e,t){var n=[O(e,-1)+t,e+O(t,-1),e+O(t,1)];if(n.filter((function(e){var t=parseInt(e[0]),n=parseInt(e[1]);return!(0<=t&&t<=9&&0<=n&&n<=8)})),0<=parseInt(e)&&parseInt(e)<=2&&3<=parseInt(t)&&parseInt(t)<=5){var r=[O(e,-1)+O(t,-1),O(e,-1)+O(t,1)];r=r.filter((function(e){return["03","14","05"].includes(e)})),n=n.concat(r)}return n},j=function(e,t,n,r){var i={};for(var o in r)if(r[o].color===t){var a=b(r[o].piece,o,r,t);for(var s in a){var c=Object.assign({},n);$(e,t,c,o,s),P(e,c)||(o in i||(i[o]={}),i[o][s]=a[s])}}return i},P=function(e,t){for(var n in t){var r=t[n];if(r.color===e)for(var i=b(r.piece,n,t,e),o=0,a=Object.values(i);o<a.length;o++){var s=a[o];if("king"===s.piece&&s.color!==e)return!0}}return!1},$=function(e,t,n,r,i){var o=r,a=i;return e!==t&&(o=R(o),a=R(a)),delete n[a],n[a]=n[o],delete n[o],n},C=function(e,t,n,r){var i,o;if("R"===n)i="97",o="96";else{if("L"!==n)return!1;i="91",o="92"}t!==r&&(i=R(i),o=R(o));var a=e[i],s=e[o];return a.color===r&&s.color===r&&("elephant"===s.piece&&"horse"===a.piece||"horse"===s.piece&&"elephant"===a.piece)&&(e[i]=s,e[o]=a,!0)},R=function(e){var t=parseInt(e[0]),n=parseInt(e[1]),r=4.5,i=4,o=t-r,a=r-o,s=n-i,c=i-s;return a.toString()+c.toString()},O=function(e,t){return(parseInt(e)+t).toString()},I={getMoves:b,findCheckMoves:j,inCheck:P,movePiece:$,swapPiece:C,flipCoordinate:R},G=function(e){return e-1},A=function(e){return e.charCodeAt(0)-65},z=function(e){return e+1},M=function(e){return String.fromCharCode(e+65)},T=function(e){var t=document.createElement("textarea");t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{var n=document.execCommand("copy"),r=n?"successful":"unsuccessful";console.log("Fallback: Copying text command was "+r)}catch(i){console.error("Fallback: Oops, unable to copy",i)}document.body.removeChild(t)},E=function(e){navigator.clipboard?navigator.clipboard.writeText(e).then((function(){console.log("Async: Copying to clipboard was successful!")}),(function(e){console.error("Async: Could not copy text: ",e)})):T(e)},W=function(e){e.map((function(e){e.id=q()}))},q=function(){return"_"+Math.random().toString(36).substr(2,9)},H={row_index:G,col_index:A,reverse_row_index:z,reverse_col_index:M,copyTextToClipboard:E,objArrAssignID:W,ID:q},J=function(e){var t=50,n=100;window.innerWidth-t>693*(window.innerHeight-n)/773?(e.board.board_height=window.innerHeight-n,e.board.board_width=693*e.board.board_height/773):(e.board.board_width=window.innerWidth-t,e.board.board_height=773*e.board.board_width/693),e.board.square_thickness=70/773*e.board.board_height,e.board.left_boarder_thickness=88/693*e.board.board_width,e.board.top_boarder_thickness=47/773*e.board.board_height},L=function(e,t){var n=t.pieces,r=t.color,i=t.spectator_color;H.objArrAssignID(Object.values(n)),e.pieces=n,e.player_color=void 0!==r&&r,e.spectator_color=void 0!==i&&i},B=function(e){e.player_color=!1,e.spectator_color=!1,e.checked_color=!1,e.checked_moves=!1,e.winner=!1,e.pieces={},e.selecting_piece=!1,e.selecting_position=!1,e.possible_cells={},e.our_turn=!1,e.preparation=!1,e.clicked_ready=!1,e.wait_left_swap=!1,e.wait_right_swap=!1},D=function(e,t){var n=t.side,r=t.wait;"L"===n&&(e.wait_left_swap=r),"R"===n&&(e.wait_right_swap=r)},N=function(e,t){var n=t.side,r=t.side_color;I.swapPiece(e.pieces,e.player_color,n,r)},F=function(e,t){e.clicked_ready=t},U=function(e,t){e.preparation=t},K=function(e,t){e.clicked_restart=!1,e.winner=t},Q=function(e){e.clicked_restart=!0},V=function(e,t){e.turn=t},X=function(e,t){var n=t.piece,r=t.position;if(e.selecting_piece=n,e.selecting_position=r,e.checked_moves){if(e.possible_cells={},r in e.checked_moves)for(var i in e.checked_moves[r])e.possible_cells[i]=e.checked_moves[r][i]}else e.possible_cells=I.getMoves(n,r,e.pieces,e.player_color)},Y=function(e){e.selecting_piece=!1,e.selecting_position=!1,e.possible_cells={}},Z=function(e,t){var n=t.color,r=t.from,i=t.to;I.movePiece(e.player_color?e.player_color:e.spectator_color,n,e.pieces,r,i),e.checked_color=!1,e.checked_moves=!1},ee=function(e,t){var n=t.checked_color,r=t.checked_moves;e.checked_color=n,e.checked_color===e.player_color&&(e.checked_moves=r)},te={updateGameResize:J,setGameScreen:L,setSwap:D,setReady:F,setPreparation:U,swapPiece:N,resetGameScreen:B,setWinner:K,clickRestart:Q,nextTurn:V,selectPiece:X,unselectPiece:Y,executeMove:Z,setCheck:ee},ne={state:l,actions:m,mutations:te},re=n("f355");r["default"].use(i["a"]);var ie=new WebSocket("ws://"+re.ws.address+":"+re.ws.port);ie.onopen=function(){console.log("Connection established!"),oe.dispatch("sendPacket",{type:"session",id:a.a.get("session_id")})},ie.onmessage=function(e){oe.dispatch("parseMessage",JSON.parse(e.data))};var oe=new i["a"].Store({state:{screen:"home",alerts:[]},actions:{listenResize:function(e){var t=e.state,n=e.commit;window.addEventListener("resize",(function(){"game"===t.screen&&n("updateGameResize")}))},sendPacket:function(e,t){ie.send(JSON.stringify(t))},parseMessage:function(e,t){var n=e.state,r=e.commit,i=e.dispatch;switch(t.type){case"validate":a.a.set("session_id",t.session_id,{expires:re.session_expire});var o=window.location.hash;o&&7===o.length&&i("joinRoom",o.slice(1));break;case"connected_rooms":r("setRooms",t.rooms);break;case"wait_room":r("resetWaitScreen"),r("setWaitScreen",{private_room:t.private_room,room_id:t.room_id}),r("changeScreen","wait");break;case"join_error":r("setJoining",!1),r("addAlert",{type:"danger",message:t.message});break;case"setup_game":r("resetGameScreen"),r("updateGameResize"),r("setGameScreen",{pieces:t.pieces,color:t.color,spectator_color:t.spectator_color}),t.checked_color&&r("setCheck",{color:t.checked_color,checked_moves:t.checked_moves}),r("changeScreen","game");break;case"start_prep":r("setPreparation",!0);break;case"prep_status":r("setReady",t.status);break;case"swap_piece":r("setSwap",{side:t.side,wait:!1}),r("swapPiece",{side:t.side,side_color:t.color});break;case"end_prepare":r("setPreparation",!1);break;case"next_turn":r("nextTurn",t.turn);break;case"execute_move":r("executeMove",{color:t.color,from:t.from,to:t.to});break;case"in_check":r("setCheck",{checked_color:t.checked_color,checked_moves:t.checked_moves});break;case"check_position":r("setPositionChecking",t.position);break;case"game_finish":r("setWinner",t.winner);break;case"room_close":"wait"===n.screen?(r("resetHomeScreen"),r("changeScreen","home")):"game"===n.screen&&(r("addAlert",{type:"warning",message:"Room is closing, returning to home in 5 seconds"}),setTimeout((function(){r("resetHomeScreen"),r("changeScreen","home")}),5e3));break;case"replace_player":r("addAlert",{type:"warning",message:"Another connection has started on this player, returning to home in 5 seconds"}),setTimeout((function(){r("resetHomeScreen"),r("changeScreen","home")}),5e3);break;case"left_room":r("resetHomeScreen"),r("changeScreen","home");break;case"error":r("addAlert",{type:"danger",message:t.message});break}}},mutations:{changeScreen:function(e,t){e.screen=t},addAlert:function(e,t){var n=t.type,r=t.message;e.alerts.push({type:n,message:r})}},modules:{HomeScreen:s,WaitScreen:c,GameScreen:ne}}),ae=n("5f5b"),se=n("b1e0"),ce=(n("f9e3"),n("2dd8"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},["home"==e.screen?n("home-screen"):e._e(),"wait"==e.screen?n("wait-screen"):e._e(),"game"==e.screen?n("game-screen"):e._e(),n("div",{attrs:{id:"alert-wrapper"}},e._l(e.local_alerts,(function(t,r){return n("b-alert",{key:r,staticClass:"alerts",attrs:{show:!0,variant:t.type,dismissible:"",fade:""},on:{dismissed:function(t){return e.dismissAlert(r)}}},[e._v(" "+e._s(t.message)+" ")])})),1)],1)}),le=[],pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"home-screen"}},[n("div",{attrs:{id:"title"}},[e._v("Jianggi")]),n("b-overlay",{attrs:{id:"background-wrapper",show:e.joining}},[n("b-button",{attrs:{id:"play-btn",block:"",size:"lg",variant:"success"},on:{click:function(t){return e.clickButton("quick_start")}}},[e._v(" Play ")]),n("hr"),n("b-form",{on:{submit:function(t){return t.preventDefault(),e.clickButton("join_room")}}},[n("b-input-group",{attrs:{id:"input",size:"lg",prepend:"#"}},[n("b-form-input",{attrs:{id:"room-input",prepend:"#",placeholder:"Enter your room id . . ."},model:{value:e.room_id,callback:function(t){e.room_id=t},expression:"room_id"}})],1)],1),n("b-button",{staticClass:"room-buttons",attrs:{size:"lg",variant:"outline-primary"},on:{click:function(t){return e.clickButton("join_room")}}},[e._v(" Join Room ")]),n("b-button",{staticClass:"room-buttons",attrs:{id:"create-btn",size:"lg",variant:"primary"},on:{click:function(t){return e.clickButton("create_room")}}},[e._v(" Create Private Room ")])],1),n("div",{attrs:{id:"room-list"}},[e.rooms.length?n("div",[e._v("Connected Rooms: ")]):e._e(),n("transition-group",{attrs:{id:"room-suggest-wrapper",name:"custom-classes-transition",duration:{enter:1e3,leave:1e3},"enter-active-class":"animated fadeInUpBig","leave-active-class":"animated fadeOutDownBig"}},e._l(e.rooms,(function(t){return n("b-button",{directives:[{name:"show",rawName:"v-show",value:!e.joining,expression:"!joining"}],key:t,staticClass:"room-suggest",attrs:{pill:"",variant:e.randomStyle()},on:{click:function(n){return e.clickRoom(t)}}},[e._v(" Room: "+e._s(t)+" ")])})),1)],1)],1)},ue=[],de={name:"home-screen",data:function(){return{room_id:""}},methods:{clickButton:function(e){switch(e){case"quick_start":this.$store.dispatch("quickStart");break;case"join_room":this.$store.dispatch("joinRoom",this.room_id.toUpperCase());break;case"create_room":this.$store.dispatch("createRoom");break}},clickRoom:function(e){this.room_id=e,this.clickButton("join_room")},randomStyle:function(){var e=["primary","secondary","success","danger","warning","info","light","dark"];return e[Math.floor(Math.random()*e.length)]}},computed:{joining:function(){return this.$store.state.HomeScreen.joining},rooms:function(){return this.$store.state.HomeScreen.rooms}}},fe=de,_e=(n("4167"),n("2877")),he=Object(_e["a"])(fe,pe,ue,!1,null,"01bbc4ec",null),me=he.exports,ge=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"wait-screen"}},[n("div",{attrs:{id:"background-wrapper"}},[n("span",{attrs:{id:"title"}},[e._v(e._s("Waiting for opponent"+e.dot_animation))]),n("span",{attrs:{id:"wait-face"}},[e._v(e._s(e.face?e.face:""))]),n("div",{attrs:{id:"room-id"}},[e._v(e._s("Room: "+e.room_id))]),e.private_room?n("div",[e._m(0),n("b-input-group",{staticClass:"mt-3",attrs:{size:"lg"}},[n("b-form-input",{attrs:{readonly:"",onclick:"select()"},model:{value:e.join_link,callback:function(t){e.join_link=t},expression:"join_link"}}),n("b-input-group-append",[n("b-button",{attrs:{variant:"success"},on:{click:e.copyClipboard}},[n("b-icon",{attrs:{icon:"link"}})],1)],1)],1)],1):n("div",[e._m(1)])]),n("b-button",{attrs:{pill:"",id:"cancel-btn",size:"lg",variant:"danger"},on:{click:e.leaveRoom}},[n("b-icon",{attrs:{icon:"x"}}),e._v(" Leave ")],1)],1)},be=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"private-description"}},[n("div",[e._v("To invite your friends, get them to join by room code")]),n("div",[e._v("or give them the url below:")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"public-description"}},[n("div",[e._v("There are currently no public available room, ")]),n("div",[e._v("a public room has been created so please wait")]),n("div",[e._v("while we wait for a player to join")])])}],ve={name:"wait-screen",data:function(){return{domain:re.domain,dot_animation:"",face:!1}},methods:{copyClipboard:function(){H.copyTextToClipboard(this.join_link)},leaveRoom:function(){this.$store.dispatch("leaveRoom")},runDotAnimation:function(){this.face?(this.face=!1,this.dot_animation=""):4==this.dot_animation.length?this.face=this.getFace():this.dot_animation+=".",setTimeout(this.runDotAnimation,1e3)},getFace:function(){return re.faces[Math.floor(Math.random()*re.faces.length)]}},computed:{private_room:function(){return this.$store.state.WaitScreen.private_room},room_id:function(){return this.$store.state.WaitScreen.room_id},join_link:function(){return this.domain+"/#"+this.room_id}},created:function(){this.runDotAnimation()}},ke=ve,we=(n("b436"),Object(_e["a"])(ke,ge,be,!1,null,"2c294d71",null)),ye=we.exports,Se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"game-screen"}},[n("b-overlay",{attrs:{show:e.realColor(e.winner),id:"finish-overlay"},scopedSlots:e._u([{key:"overlay",fn:function(){return[n("div",{attrs:{id:"overlay-wrapper"}},[n("div",[n("span",{staticClass:"text",style:"color:"+e.colorConvert(e.winner)},[e._v(" "+e._s(e.winner.toUpperCase())+" ")]),n("span",{staticClass:"text"},[e._v(" Wins !")])]),e.realColor(e.player_color)&&!e.clicked_restart?n("b-button",{attrs:{variant:"outline-primary"},on:{click:e.confirmRestart}},[e._v(" Play Again ")]):e._e(),e.realColor(e.player_color)&&e.clicked_restart?n("div",[e._v(" Waiting for other player to be ready "),n("b-spinner",{staticClass:"spinner",attrs:{small:"",variant:"warning",type:"grow",label:"Spinning"}})],1):e._e(),e.realColor(e.player_color)?e._e():n("div",[e._v(" Waiting for players to restart "),n("b-spinner",{staticClass:"spinner",attrs:{small:"",variant:"warning",type:"grow",label:"Spinning"}})],1)],1)]},proxy:!0}])},[n("board"),e.player_color?e._e():n("b-button",{attrs:{id:"spectator-leave-btn",variant:"primary"},on:{click:e.leaveRoom}},[n("b-icon",{attrs:{icon:"caret-left"}}),e._v(" Back to Home ")],1),e.preparation?n("div",{attrs:{id:"preparation-cover"}},[n("div",{attrs:{id:"preparation-background"}},[e.clicked_ready?n("div",{attrs:{id:"prep-ready-text"}},[n("b-spinner",{attrs:{id:"prep-ready-spinner",large:"",type:"grow"}}),e._v(" Waiting for other player to get ready ")],1):n("div",{attrs:{id:"preparation-wrapper"}},[n("b-button",{attrs:{variant:"primary",size:"lg"},on:{click:function(t){return e.swapSide("L")}}},[e.wait_left_swap?n("span",[n("b-spinner",{staticClass:"prep-wrap-spinner",attrs:{small:"",type:"grow"}}),e._v(" Loading... ")],1):n("span",[e._v(" Swap Left ")])]),n("b-button",{attrs:{variant:"success",size:"lg"},on:{click:e.prepareReady}},[e._v(" Ready ")]),n("b-button",{attrs:{variant:"primary",size:"lg"},on:{click:function(t){return e.swapSide("R")}}},[e.wait_right_swap?n("span",[n("b-spinner",{staticClass:"prep-wrap-spinner",attrs:{small:"",type:"grow"}}),e._v(" Loading... ")],1):n("span",[e._v(" Swap Right ")])])],1)])]):e._e()],1)],1)},xe=[],je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{style:{width:e.board_width+"px",height:e.board_height+"px","background-image":"url('"+e.image+"')"},attrs:{id:"board"}},[e._l(e.pieces,(function(e,t){return n("piece-cell",{key:"p"+e.id,attrs:{position:t,piece:e.piece,color:e.color}})})),n("transition-group",{attrs:{name:"custom-classes-transition",duration:{enter:250},"enter-active-class":"animated fadeIn"}},e._l(e.possible_cells,(function(e,t){return n("possible-cell",{key:"c"+t,attrs:{position:t,enemy_piece:e.piece,on_enemy:e.on_enemy}})})),1)],2)},Pe=[],$e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"cell"},on:{click:e.movePiece,mouseover:function(t){e.hovering=!0},mouseleave:function(t){e.hovering=!1}}},[n("cell",{attrs:{position:e.position,image:e.img}})],1)},Ce=[],Re=n("63b6"),Oe=n.n(Re),Ie=n("39b0"),Ge=n.n(Ie),Ae=n("b32c"),ze=n.n(Ae),Me=n("6494"),Te=n.n(Me),Ee=n("ffde"),We=n.n(Ee),qe=n("ebb8"),He=n.n(qe),Je=n("4b0d"),Le=n.n(Je),Be=n("d446"),De=n.n(Be),Ne=n("0dc2"),Fe=n.n(Ne),Ue=n("7364"),Ke=n.n(Ue),Qe=n("1388"),Ve=n.n(Qe),Xe=n("94a5"),Ye=n.n(Xe),Ze=n("59c5"),et=n.n(Ze),tt=n("35f6"),nt=n.n(tt),rt=n("bf16"),it=n.n(rt),ot=n("43f6"),at=n.n(ot),st=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("img",{style:{left:e.tween_x+"px",top:e.tween_y+"px","background-image":"url('"+e.background+"')"},attrs:{id:"cell",draggable:"false",src:e.image,width:e.piece_size,height:e.piece_size}})},ct=[],lt={name:"cell",props:{position:String,image:String,background:String},data:function(){return{tween_x:0,tween_y:0}},methods:{get_new_x:function(){return this.left_boarder_thickness+this.position[1]*this.square_thickness-this.piece_size/2},get_new_y:function(){return this.top_boarder_thickness+this.position[0]*this.square_thickness-this.piece_size/2}},computed:{left_boarder_thickness:function(){return this.$store.state.GameScreen.board.left_boarder_thickness},top_boarder_thickness:function(){return this.$store.state.GameScreen.board.top_boarder_thickness},square_thickness:function(){return this.$store.state.GameScreen.board.square_thickness},piece_size:function(){return this.square_thickness}},watch:{position:function(){window.TweenLite.to(this.$data,.5,{tween_x:this.get_new_x()}),window.TweenLite.to(this.$data,.5,{tween_y:this.get_new_y()})},piece_size:{immediate:!0,handler:function(){this.tween_x=this.get_new_x(),this.tween_y=this.get_new_y()}}}},pt=lt,ut=(n("6bc1"),Object(_e["a"])(pt,st,ct,!1,null,"dd280d8e",null)),dt=ut.exports,ft={name:"possible-cell",components:{Cell:dt},data:function(){return{hovering:!1}},props:{position:String,on_enemy:Boolean,enemy_piece:String},methods:{movePiece:function(){this.can_move&&this.$store.dispatch("movePiece",this.position)}},computed:{img:function(){return this.on_enemy?this.takedown_highlight:this.move_highlight},can_move:function(){return this.$store.state.GameScreen.turn===this.$store.state.GameScreen.player_color},takedown_highlight:function(){switch(this.enemy_piece){case"king":return this.can_move?this.hovering?Ve.a:We.a:this.hovering?nt.a:De.a;case"cannon":case"horse":case"elephant":case"rook":return this.can_move?this.hovering?Ye.a:He.a:this.hovering?it.a:Fe.a;case"pawn":case"guard":return this.can_move?this.hovering?et.a:Le.a:this.hovering?at.a:Ke.a;default:return""}},move_highlight:function(){return this.can_move?this.hovering?ze.a:Oe.a:this.hovering?Te.a:Ge.a}}},_t=ft,ht=(n("5888"),Object(_e["a"])(_t,$e,Ce,!1,null,"20cfd39a",null)),mt=ht.exports,gt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.unselectPiece,expression:"unselectPiece"}],style:"cursor:"+(e.friendly?"pointer;":"default;"),on:{click:e.selectPiece}},[n("cell",{attrs:{position:e.position,image:e.img_src,background:e.highlight}})],1)},bt=[],vt=n("b9d5"),kt=n.n(vt),wt=n("90c3"),yt=n.n(wt),St=n("f1b4"),xt=n.n(St),jt=n("62d2"),Pt=n.n(jt),$t=n("060f"),Ct=n.n($t),Rt=n("d9c9"),Ot=n.n(Rt),It=n("9c9b"),Gt=n.n(It),At=n("06b5"),zt=n.n(At),Mt=n("f72d"),Tt=n.n(Mt),Et=n("f3ee"),Wt=n.n(Et),qt=n("fafc"),Ht=n.n(qt),Jt=n("8a9b"),Lt=n.n(Jt),Bt=n("2199"),Dt=n.n(Bt),Nt=n("86cb"),Ft=n.n(Nt),Ut=n("70ac"),Kt=n.n(Ut),Qt=n("612c"),Vt=n.n(Qt),Xt=n("9d5e"),Yt=n.n(Xt),Zt=n("97da"),en=n.n(Zt),tn={name:"piece-cell",components:{Cell:dt},props:{position:String,piece:String,color:String},methods:{selectPiece:function(){this.friendly&&this.$store.dispatch("selectPiece",{piece:this.piece,position:this.position})},unselectPiece:function(){this.$store.dispatch("unselectPiece")}},computed:{selecting:function(){return this.$store.state.GameScreen.selecting_position===this.position},friendly:function(){return this.$store.state.GameScreen.player_color===this.color},king_checked:function(){return this.$store.state.GameScreen.checked_color===this.color&&"king"===this.piece},img_src:function(){var e="red"==this.color;switch(this.piece){case"pawn":return e?kt.a:zt.a;case"guard":return e?yt.a:Tt.a;case"cannon":return e?xt.a:Wt.a;case"horse":return e?Pt.a:Ht.a;case"elephant":return e?Ct.a:Lt.a;case"rook":return e?Ot.a:Dt.a;case"king":return e?Gt.a:Ft.a;default:return null}},highlight:function(){if(!this.selecting)return this.king_checked?en.a:"";switch(this.piece){case"king":return Kt.a;case"cannon":case"horse":case"elephant":case"rook":return Vt.a;case"pawn":case"guard":return Yt.a;default:return""}}}},nn=tn,rn=Object(_e["a"])(nn,gt,bt,!1,null,"288156df",null),on=rn.exports,an=n("3eb6"),sn=n.n(an),cn={name:"board",components:{PossibleCell:mt,PieceCell:on},computed:{image:function(){return sn.a},board_width:function(){return this.$store.state.GameScreen.board.board_width},board_height:function(){return this.$store.state.GameScreen.board.board_height},pieces:function(){return this.$store.state.GameScreen.pieces},possible_cells:function(){return this.$store.state.GameScreen.possible_cells}}},ln=cn,pn=(n("58b8"),Object(_e["a"])(ln,je,Pe,!1,null,"2e643600",null)),un=pn.exports,dn={name:"game-screen",components:{Board:un},methods:{colorConvert:function(e){return"red"===e?"orangered":"blue"===e?"dodgerblue":e},realColor:function(e){return"red"===e||"blue"===e},confirmRestart:function(){this.$store.dispatch("clickRestart")},swapSide:function(e){this.$store.dispatch("clickSwap",e)},prepareReady:function(){this.$store.dispatch("clickReady")},leaveRoom:function(){this.$store.dispatch("sendPacket",{type:"leave_room"})}},computed:{winner:function(){return this.$store.state.GameScreen.winner},player_color:function(){return this.$store.state.GameScreen.player_color},clicked_restart:function(){return this.$store.state.GameScreen.clicked_restart},preparation:function(){return this.$store.state.GameScreen.preparation&&this.player_color},clicked_ready:function(){return this.$store.state.GameScreen.clicked_ready},wait_left_swap:function(){return this.$store.state.GameScreen.wait_left_swap},wait_right_swap:function(){return this.$store.state.GameScreen.wait_right_swap}}},fn=dn,_n=(n("942d"),Object(_e["a"])(fn,Se,xe,!1,null,"215d4056",null)),hn=_n.exports,mn={name:"app",components:{HomeScreen:me,WaitScreen:ye,GameScreen:hn},data:function(){return{dismissSecs:5e3,local_alerts:{}}},methods:{refreshAlerts:function(){var e={};for(var t in this.local_alerts)e[t]=this.local_alerts[t];this.local_alerts=e},dismissAlert:function(e){delete this.local_alerts[e],this.refreshAlerts()}},computed:{screen:function(){return this.$store.state.screen},alerts:function(){return this.$store.state.alerts}},watch:{alerts:function(e){var t=this,n=function(){var n=e.pop(),r=H.ID(),i=t;t.local_alerts[r]=n,n.timmer=setTimeout((function(){i.dismissAlert(r)}),t.dismissSecs)};while(e.length)n();this.refreshAlerts()}},created:function(){this.$store.dispatch("listenResize")}},gn=mn,bn=(n("3188"),Object(_e["a"])(gn,ce,le,!1,null,"6583f19d",null)),vn=bn.exports;r["default"].config.productionTip=!1,r["default"].use(ae["a"]),r["default"].use(se["a"]),r["default"].directive("click-outside",{bind:function(e,t,n){e.clickOutsideEvent=function(r){e==r.target||e.contains(r.target)||n.context[t.expression](r)},document.body.addEventListener("click",e.clickOutsideEvent)},unbind:function(e){document.body.removeEventListener("click",e.clickOutsideEvent)}}),new r["default"]({render:function(e){return e(vn)},store:oe}).$mount("#app")},5888:function(e,t,n){"use strict";var r=n("abe0"),i=n.n(r);i.a},"58b8":function(e,t,n){"use strict";var r=n("9d80"),i=n.n(r);i.a},"59c5":function(e,t,n){e.exports=n.p+"img/hover_available_possible_takedown_small.4a019460.png"},"612c":function(e,t,n){e.exports=n.p+"img/highlight_med_dark.6c5fa363.png"},"62d2":function(e,t,n){e.exports=n.p+"img/red_horse.519b9eeb.png"},"63b6":function(e,t,n){e.exports=n.p+"img/available_possible_move.615ae6cf.png"},6494:function(e,t,n){e.exports=n.p+"img/hover_unavailable_possible_move.d4ac4773.png"},"6bc1":function(e,t,n){"use strict";var r=n("d035"),i=n.n(r);i.a},"70ac":function(e,t,n){e.exports=n.p+"img/highlight_large_dark.68a686c2.png"},7364:function(e,t,n){e.exports=n.p+"img/unavailable_possible_takedown_small.1f9f017c.png"},"81c4":function(e,t,n){},"86cb":function(e,t,n){e.exports=n.p+"img/blue_king.28adede4.png"},"8a9b":function(e,t,n){e.exports=n.p+"img/blue_elephant.6c0a271a.png"},"90c3":function(e,t,n){e.exports=n.p+"img/red_guard.bec36d46.png"},"942d":function(e,t,n){"use strict";var r=n("963e"),i=n.n(r);i.a},"94a5":function(e,t,n){e.exports=n.p+"img/hover_available_possible_takedown_med.7305e21e.png"},"963e":function(e,t,n){},"97da":function(e,t,n){e.exports=n.p+"img/danger_highlight_large.0a963106.png"},"9c9b":function(e,t,n){e.exports=n.p+"img/red_king.2c872d43.png"},"9d5e":function(e,t,n){e.exports=n.p+"img/highlight_small_dark.f264c00f.png"},"9d80":function(e,t,n){},abe0:function(e,t,n){},b32c:function(e,t,n){e.exports=n.p+"img/hover_available_possible_move.3fb27675.png"},b436:function(e,t,n){"use strict";var r=n("cd01"),i=n.n(r);i.a},b8f3:function(e,t,n){},b9d5:function(e,t,n){e.exports=n.p+"img/red_pawn.591555ff.png"},bf16:function(e,t,n){e.exports=n.p+"img/hover_unavailable_possible_takedown_med.2a61c3a6.png"},cd01:function(e,t,n){},d035:function(e,t,n){},d446:function(e,t,n){e.exports=n.p+"img/unavailable_possible_takedown_large.2f200f0c.png"},d9c9:function(e,t,n){e.exports=n.p+"img/red_rook.a85000a6.png"},ebb8:function(e,t,n){e.exports=n.p+"img/available_possible_takedown_med.69eb1f71.png"},f1b4:function(e,t,n){e.exports=n.p+"img/red_cannon.5a75f10f.png"},f355:function(e){e.exports=JSON.parse('{"domain":"https://snopan.github.io/janggi","session_expire":1,"ws":{"address":"localhost","port":9080},"faces":["(ಥ﹏ಥ)","(ง\'̀-\'́)ง","(づ￣ ³￣)づ","(☞ﾟ∀ﾟ)☞"]}')},f3ee:function(e,t,n){e.exports=n.p+"img/blue_cannon.6011f803.png"},f72d:function(e,t,n){e.exports=n.p+"img/blue_guard.82b42e10.png"},fafc:function(e,t,n){e.exports=n.p+"img/blue_horse.1cad7a6d.png"},ffde:function(e,t,n){e.exports=n.p+"img/available_possible_takedown_large.9bca8e04.png"}});
//# sourceMappingURL=app.4d910491.js.map